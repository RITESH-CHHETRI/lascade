# Lascade

## Overview

The goal of this machine test is to evaluate your ability to create a robust and scalable API using Node.js. The API will handle file uploads, process CSV data, upload data to a database, and manage user accounts with authentication and authorisation.

## Technologies Used

- Node.js
- Express.js
- MongoDB (or your preferred database)
- JWT (JSON Web Tokens)
- Multer (for file uploads)
- Async (for queue management)

## Getting Started

### Prerequisites

- Node.js installed on your machine
- MongoDB installed and running locally or access to a MongoDB database (or your preferred database)

### Installation

1. Clone the repository:

   ```bash
   git clone https://github.com/RITESH-CHHETRI/lascade.git
   ```

2. Navigate into the project directory:

   ```bash
   cd your-project
   ```

3. Install dependencies:

   ```bash
   npm install
   ```

4. Set up environment variables:

   - Create a `.env` file in the root directory of your project.
   - Add the following environment variables to the `.env` file:

     ```
     PORT=3000
     MONGO_URI=mongodb://localhost:27017/your-database-name
     JWT_SECRET=your_jwt_secret_key
     ```

     Replace `your-database-name` with the name of your MongoDB database and `your_jwt_secret_key` with your preferred secret key for JWT.

### Running the Server

To start the server, run the following command:

```bash
    node app.js
```

The server will start at `http://localhost:3000` (or the port specified in your `.env` file).

### API Endpoints

- **Authentication:**
  - `POST /api/auth/register` - Register a new user.
  - `POST /api/auth/login` - Login user and receive a JWT token.

- **File Upload:**
  - `POST /api/files/upload` - Upload a CSV file (requires authentication).


### Folder Structure

```markdown
Lascade/
│
├── controllers/
│   ├── authController.js
│   └── fileController.js
│
├── middlewares/
│   └── authMiddleware.js
│
├── models/
│   ├── User.js
│   └── UserData.js
│
├── node_modules/ (generated by npm)
│
├── queues/
│   └── fileQueue.js
│
├── routes/
│   ├── authRoutes.js
│   └── fileRoutes.js
│
├── uploads/ (directory for uploaded files)
│
├── utils/
│   └── csvProcessor.js
│
├── .env (environment variables configuration)
│
├── app.js (main entry point of your application)
│
├── config.js (configuration file)
│
├── package-lock.json (generated by npm)
│
├── package.json (dependencies and project information)
│
├── README.md (project documentation)
│
├── test.py (optional: testing script)
│
└── users.csv (optional: example CSV file for testing)
```

### Hosting
Hosted on Render: https://lascadehost.onrender.com/api

